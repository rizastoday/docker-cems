// 20210419103145
// https://raw.githubusercontent.com/Aminerman/vue-kinesis/master/dist/vue-kinesis.min.js

var VueKinesis=function(t){"use strict";function e(t){return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)}function n(t,e,n){var i,r;return function(){var s,o=this;s="scroll"===n||o.duration>1e3?e:o.duration/10;var a=+new Date,c=arguments;i&&a<i+s?(clearTimeout(r),r=setTimeout((function(){requestAnimationFrame((function(){i=a,t.apply(o,c)}))}),s)):requestAnimationFrame((function(){i=a,t.apply(o,c)}))}}var i={props:{active:{type:Boolean,default:!0},duration:{type:Number,default:1e3},easing:{type:String,default:"cubic-bezier(0.23, 1, 0.32, 1)"},tag:{type:String,default:"div"}}},r={props:{perspective:{type:Number,default:1e3}},computed:{style:function(){return{perspective:"".concat(this.perspective,"px")}}}};function s(){try{return/Mobi|Android/i.test(navigator.userAgent)}catch(t){return!0}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{
  
};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){return{x:t,y:e}}function h(t){var e,n=t.target,i=t.event,r=i.clientX,s=i.clientY,o=r-n.left,a=s-n.top,h=u((e=n)?e.width/2:0,e?e.height/2:0);return c(c({},u(o/h.x,a/h.y)),{},{target:n})}function l(t,e,n,i,r,s,o,a,c,u){"boolean"!=typeof o&&(c=a,a=o,o=!1);const h="function"==typeof n?n.options:n;let l;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,r&&(h.functional=!0)),i&&(h._scopeId=i),s?(l=function(t){(t=t||this.$$vnode&&this.$$vnode.ssrContext||this.parent&&this.parent.$$vnode&&this.parent.$$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):e&&(l=o?function(t){e.call(this,u(t,this.$$root.$$options.shadowRoot))}:function(t){e.call(this,a(t))}),l)if(h.functional){const t=h.render;h.render=function(e,n){return l.call(n),t(e,n)}}else{const t=h.beforeCreate;h.beforeCreate=t?[].concat(t,l):[l]}return n}var d=l({render:function(){var t=this,e=t.$$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",style:t.style,on:{mousemove:t.handleMovement,mouseenter:t.handleMovementStart,mouseleave:t.handleMovementStop}},[t._t("default"),t._v(" "),t.audio?n("audio",{ref:"audio",attrs:{type:"audio/mpeg"},on:{ended:t.stop}},[n("source",{attrs:{src:t.audio}})]):t._e()],2)},staticRenderFns:[]},void 0,{name:"KinesisContainer",mixins:[i,r,{props:{audio:{type:String,required:!1},playAudio:{type:Boolean,default:!1}},data:function(){return{analyser:null,audioArray:null,audioData:null,audioRef:null,wasPlayed:!1,isPlaying:!1}},watch:{audio:function(){this.wasPlayed=!1,this.isPlaying=!1},playAudio:function(t){t?this.play():this.stop()}},methods:{play:function(){this.active&&(this.wasPlayed||(this.handleAudio(),this.wasPlayed=!0),this.isPlaying=!0,this.audioRef.play(),this.getSongData())},stop:function(){this.isPlaying=!1,this.audioRef.pause()},handleAudio:function(){var t=this.$$refs.audio;this.audioRef=t;var e=new AudioContext,n=e.createMediaElementSource(t),i=e.createAnalyser();n.connect(i),i.connect(e.destination),i.fftSize=256;var r=i.frequencyBinCount,s=new Uint8Array(r);this.audioArray=s,this.analyser=i},getSongData:function(){this.isPlaying&&(this.analyser.getByteFrequencyData(this.audioArray),this.audioData=new Array(this.audioArray),requestAnimationFrame(this.getSongData))}}},{props:{event:{type:String,default:"move"}},data:function(){return{eventMap:{orientation:"deviceorientation",scroll:"scroll",move:s()?"deviceorientation":null}}},methods:{addEvents:function(){this.eventMap[this.event]&&window.addEventListener(this.eventMap[this.event],this.handleMovement,!0)},removeEvents:function(){this.eventMap[this.event]&&window.removeEventListener(this.eventMap[this.event],this.handleMovement,!0)}},watch:{event:function(t,e){this.eventMap[t]&&window.addEventListener(this.eventMap[t],this.handleMovement,!0),this.eventMap[e]&&window.addEventListener(this.eventMap[e],this.handleMovement,!0)}}}],provide:function(){var t=this,e={};return["audioData","duration","easing","event","eventData","isMoving","movement","shape"].forEach((function(n){return Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),{context:e}},data:function(){return{movement:{x:0,y:0},leftOnce:!1,isMoving:!1,shape:null,eventData:{x:0,y:0}}},mounted:function(){this.addEvents()},beforeDestroy:function(){this.removeEvents()},methods:{handleMovement:n((function(t){this.isMoving||this.leftOnce||(this.isMoving=!0),this.shape=this.$$el.getBoundingClientRect();var n,i=e(this.shape);"move"===this.event&&this.isMoving&&!s()?(this.movement=h({target:this.shape,event:t}),this.eventData=u(t.clientX,t.clientY)):("orientation"===this.event||"move"===this.event&&s())&&i?this.movement=function(t){var e=t.event,n=t.target;return c(c({},u(e.gamma/45,e.beta/90)),{},{target:n})}({target:this.shape,event:t}):"scroll"===this.event&&i&&this.shape.height&&(this.movement=c(c({},u(((n=this.shape).left-window.innerWidth)/(n.width+window.innerWidth),(n.top-window.innerHeight)/(n.height+window.innerHeight))),{},{target:n}))}),100),handleMovementStart:function(){this.isMoving=!0},handleMovementStop:function(){this.leftOnce=!0,this.isMoving=!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0),m={props:{type:{type:String,default:"translate"},transformOrigin:{type:String,default:"center"},originX:{type:Number,default:50},originY:{type:Number,default:50},strength:{type:Number,default:10},audioIndex:{type:Number,default:50},axis:{type:String,default:null},maxX:{type:Number,default:null},maxY:{type:Number,default:null},minX:{type:Number,default:null},minY:{type:Number,default:null},cycle:{type:Number,default:0}},methods:{strengthManager:function(){return"depth"===this.type||"depth_inv"===this.type?Math.abs(this.strength):this.strength}}},f={methods:{transformSwitch:function(t,e,n,i){var r;switch(t){case"translate":r=this.translateMovement(e,n);break;case"rotate":r=this.rotateMovement(e,n);break;case"depth":r=this.depthMovement(e,n,i);break;case"depth_inv":r=this.depthMovement(-e,-n,i);break;case"scale":r=this.scaleMovement(e,n)}return r},translateMovement:function(t,e){return"translate3d(".concat(-t,"px, ").concat(-e,"px, 0)")},rotateMovement:function(t,e){var n;return this.axis?"x"===this.axis?n=2*t:"y"===this.axis&&(n=2*e):n=t+e,"rotate3d(0,0,1,".concat(n,"deg)")},depthMovement:function(t,e,n){return"rotateX(".concat(-e,"deg) rotateY(").concat(t,"deg) translate3d(0,0,").concat(2*n,"px)")},scaleMovement:function(t,e){var n=this.type,i=Math.sign(this.strength)*(Math.abs(t)+Math.abs(e))/10+1;return"scale3d(".concat("scaleX"===n||"scale"===n?i:1,",\n            ").concat("scaleY"===n||"scale"===n?i:1,",\n            1)")}}};function v(t){var e=t.y,n=t.x,i=t.target,r=t.originX,s=void 0===r?50:r,o=t.strength,a=void 0===o?10:o,h=t.event,l=void 0===h?null:h,d=t.originY,m=void 0===d?50:d;return"scroll"===l&&(m=-m/2),c(c({},u((n-s/50)*a,(e-m/50)*a)),{},{target:i})}function p(t,e,n){return n&&t>n?n:e&&t<e?e:t}function g(t){var e=t.referencePosition,n=t.elementPosition,i=t.spanningRange,r=t.cycles,s=(e-n)*(2*Math.PI)/i;return i*Math.sin(s*r)/(i/2)}var y=l({render:function(){var t=this.$$createElement;return(this._self._c||t)(this.tag,{tag:"component",style:Object.assign({},this.transform,this.transformParameters)},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"KinesisElement",mixins:[m,f],inject:["context"],props:{tag:{type:String,default:"div"}},computed:{transform:function(){return this.transformMovement()},getContext:function(){return this.context},transformParameters:function(){return{transitionProperty:"transform",transitionDuration:this.transitionDuration,transformOrigin:this.transformOrigin,transitionTimingFunction:this.transitionTimingFunction}},transitionDuration:function(){var t=this.context.duration;return"".concat(t,"ms")},transitionTimingFunction:function(){return this.context.easing},isTouch:function(){return s()}},methods:{transformMovement:function(){var t,e,n=this.context;if(!n.isMoving&&"move"===n.event)return{};var i=n.event,r=this.strengthManager();if(this.cycle<=0){var s=v(c(c({},n.movement),{},{originX:this.originX,originY:this.originY,strength:r})),o=s.x,a=s.y,u="scroll"===i;if(u||(t="y"===this.axis?0:p(o,this.minX,this.maxX),e="x"===this.axis?0:p(a,this.minY,this.maxY)),u){var h=v({x:n.movement.x,y:n.movement.y,originX:this.originX,originY:this.originY,strength:r,event:n.event}).y;t="x"===this.axis?h:0,e="y"!==this.axis&&this.axis?0:h}}else if(this.cycle>0){var l=n.shape,d=n.eventData;if(l)t=("x"===this.axis?g({referencePosition:"scroll"===i?0:d.x,elementPosition:l.left,spanningRange:"scroll"===i?window.innerWidth:l.width,cycles:this.cycle}):0)*r,e=("y"!==this.axis&&this.axis?0:g({referencePosition:"scroll"===i?0:d.y,elementPosition:l.top,spanningRange:"scroll"===i?window.innerHeight:l.height,cycles:this.cycle}))*r}var m=this.type;return m="scaleX"===m||"scaleY"===m?"scale":m,{transform:this.transformSwitch(m,t,e,this.strength)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),x=l({render:function(){var t=this.$$createElement;return(this._self._c||t)(this.tag,{tag:"component",style:Object.assign({},this.transform,this.transformParameters)},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"KinesisAudio",inject:["context"],mixins:[m],props:{tag:{type:String,default:"div"},audioIndex:{type:Number,default:50}},computed:{transform:function(){return this.transformAudio()},transformParameters:function(){return{transitionProperty:"transform",transitionDuration:this.transitionDuration,transformOrigin:this.transformOrigin,transitionTimingFunction:this.transitionTimingFunction}},transitionDuration:function(){var t=this.context.duration;return"".concat(t,"ms")},transitionTimingFunction:function(){return this.context.easing}},methods:{transformAudio:function(){var t=this.context.audioData;if(this.context.audioData){var e,n,i=this.type,r=this.strength;switch(i){case"translate":e=t?t[0][this.audioIndex]:0,n="translate3d(".concat(e*r,"px, 0, 0)");break;case"rotate":e=t?t[0][this.audioIndex]:0,n="rotate3d(0,0,1,".concat(e*r/10,"deg)");break;case"scale":e=t?t[0][this.audioIndex]/r<1?1:t[0][this.audioIndex]/(2*r):1,n="scale(".concat(e,")")}return{transform:n}}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),w=l({render:function(){var t=this.$$createElement;return(this._self._c||t)(this.tag,{tag:"component",style:Object.assign({},this.transform,this.transformParameters)},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"KinesisScroll",mixins:[i,r,m,f],data:function(){return{transform:{}}},mounted:function(){window.addEventListener("scroll",this.handleScroll,{passive:!0})},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll,{passive:!0})},computed:{transformParameters:function(){return{transitionProperty:"transform",transitionDuration:this.transitionDuration,transformOrigin:this.transformOrigin,transitionTimingFunction:this.easing}},transitionDuration:function(){return"".concat(this.duration,"ms")}},methods:{getCycleMovement:function(t,e,n,i,r){var s=(t-r.left)*(2*Math.PI)/n,o=(e-r.top)*(2*Math.PI)/i;this.cycleMovement={x:s,y:o,width:n,height:i}},handleScroll:n((function(){if(this.active){var t=this.$$el.getBoundingClientRect();e(t)&&t.height&&this.transformBehavior(t)}}),19,"scroll"),transformBehavior:function(t){var e,n,i=(t.top-window.innerHeight)/(t.height+window.innerHeight);if(this.cycle<=0){var r=i*this.strength;e="x"===this.axis?r:0,n="y"!==this.axis&&this.axis?0:r,this.maxX&&(e=Math.min(e,this.maxX)),this.minX&&(e=Math.max(e,this.minX)),this.maxY&&(n=Math.min(n,this.maxY)),this.minY&&(n=Math.max(n,this.minY))}else if(this.cycle>0){var s=this.getCycleMovement(0,0,window.innerWidth,window.innerHeight,t),o=s.x,a=s.y,c=s.width,u=s.height,h=c*Math.sin(o*this.cycle),l=u*Math.sin(a*this.cycle);e="x"===this.axis?h/(c/2)*this.strength:0,n="y"!==this.axis&&this.axis?0:l/(u/2)*this.strength}var d=this.type;d="scaleX"===d||"scaleY"===d?"scale":d;var m=this.transformSwitch(d,e,n,this.strength);this.transform={transform:m}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),b=l({render:function(){var t=this.$$createElement;return(this._self._c||t)(this.tag,{tag:"component",style:Object.assign({},this.transform,this.transformParameters)},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"KinesisDistance",props:{tag:{type:String,default:"div"},type:{type:String,default:"translate"},transformOrigin:{type:String,default:"center"},originX:{type:Number,default:50},originY:{type:Number,default:50},strength:{type:Number,default:10},axis:{type:String,default:null},maxX:{type:Number,default:null},maxY:{type:Number,default:null},minX:{type:Number,default:null},minY:{type:Number,default:null},distance:{type:Number,default:100},cycle:{type:Number,default:0},active:{type:Boolean,default:!0},duration:{type:Number,default:1001},easing:{type:String,default:"cubic-bezier(0.23, 1, 0.32, 1)"},perspective:{type:Number,default:1e3}},data:function(){return{pointer:{x:0,y:0},transform:{},component:"kidistance",throttle:500}},mounted:function(){window.addEventListener("scroll",this.handleMovement)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleMovement)},computed:{style:function(){return{perspective:"".concat(this.perspective,"px")}},transformParameters:function(){return{position:"relative",transitionProperty:"transform",transitionDuration:this.transitionDuration,transformOrigin:this.transformOrigin,transitionTimingFunction:this.easing}},transitionDuration:function(){return"".concat(this.duration,"ms")}},methods:{getCoordinates:function(t,e){var n=this.$$el.getBoundingClientRect();return{x:t+n.left,y:e+n.top}},getDistance:function(t,e,n,i){return Math.floor(Math.hypot(e-t,i-n))},handleMovement:n((function(t){window.addEventListener("mousemove",this.handleMovement);var e=this.pointer;e.x=t.clientX,e.y=t.clientY,this.transformBehavior()}),50),transformBehavior:function(){var t=this.$$el.getBoundingClientRect(),e=this.getCoordinates(t.width/2,t.height/2),n=this.getDistance(this.pointer.x,e.x,this.pointer.y,e.y);if(n>this.distance)return this.transform={},void(this.throttle=500);this.throttle=50;var i="scale(".concat(n/this.distance,")");this.transform={transform:i}},scaleMovement:function(t,e){var n=this.type,i=Math.sign(this.strength)*(Math.abs(t)+Math.abs(e))/10+1;return"scale3d(".concat("scaleX"===n||"scale"===n?i:1,",\n      ").concat("scaleY"===n||"scale"===n?i:1,",\n      1)")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),M={install:function(t){t.component(x.name,x),t.component(d.name,d),t.component(b.name,b),t.component(y.name,y),t.component(w.name,w)}},_=null;"undefined"!=typeof window?_=window.vue:"undefined"!=typeof global&&(_=global.vue),_&&_.use(M);var P=Object.freeze({__proto__:null,default:M,KinesisAudio:x,KinesisContainer:d,KinesisDistance:b,KinesisElement:y,KinesisScroll:w}),O={install:function t(e){if(!t.installed){for(var n in t.installed=!0,P)e.use(P[n]);e.component("kinesis-container",d),e.component("kinesis-element",y),e.component("kinesis-audio",x),e.component("kinesis-scroll",w),e.component("kinesis-distance",b)}}},D=null;return"undefined"!=typeof window?D=window.vue:"undefined"!=typeof global&&(D=global.vue),D&&D.use(O),t.KinesisAudio=x,t.KinesisContainer=d,t.KinesisDistance=b,t.KinesisElement=y,t.KinesisScroll=w,t.default=O,Object.defineProperty(t,"__esModule",{value:!0}),t}({});